\documentclass{article}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{amsmath}

\begin{document}

\begin{algorithm}
\caption{Score and rank all sensors}\label{score-rank-algo}
\begin{algorithmic}[1]
\Function{scoreAndRankSensors}{referenceSensor: Sensor, timeFrame: Timestamp}: List of Sensor
    \State $similarityScores \gets \{\}$
    \ForAll{$sensor$ \textbf{in} allSensors}
        \State $similarityScore \gets$ \Call{calculateSimilarity}{referenceSensor, sensor, timeFrame}
        \State add the sensor and its similarityScore to  $similarityScores$
    \EndFor
    \State Sort $similarityScores$
    \State $rankedSensors \gets \{\}$
    \ForAll{$pair$ \textbf{in} $similarityScores$}
        \State add the sensor (first element of the pair) to $rankedSensors$
    \EndFor
    \State \Return $rankedSensors$
\EndFunction
\State
\Function{calculateSimilarity}{referenceSensor: Sensor, sensor: Sensor, timeFrame: Timestamp}: Double
    \State $referenceData \gets$ \Call{getDataWithinTimeFrame}{referenceSensor, timeFrame}
    \State $sensorData \gets$ \Call{getDataWithinTimeFrame}{sensor, timeFrame}
    \State $similarityScore \gets$ \Call{calculateSimilarityScore}{referenceData, sensorData}
    \State \Return $similarityScore$
\EndFunction
\end{algorithmic}
\end{algorithm}

\end{document}
